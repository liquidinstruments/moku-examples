<template>
    <div style="display: flex; gap: 0.5rem">
        <a class="open-mcc-action with-icon" target="_blank" :href="importUrl">
            <svg
                viewBox="0 0 378 242"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M223.44 208.76C220.51 211.612 217.239 214.091 213.7 216.14L213.49 216.28C205.888 220.612 197.284 222.881 188.534 222.86C179.784 222.839 171.191 220.529 163.61 216.16C160.071 214.111 156.8 211.632 153.87 208.78C152.323 212.414 150.542 215.945 148.54 219.35C147.22 221.58 145.81 223.74 144.31 225.85C147.354 228.403 150.613 230.688 154.05 232.68C164.576 238.747 176.511 241.94 188.66 241.94C200.809 241.94 212.744 238.747 223.27 232.68C226.707 230.688 229.966 228.403 233.01 225.85C231.51 223.74 230.1 221.58 228.78 219.35C226.773 215.939 224.99 212.402 223.44 208.76ZM213.5 105.45C211.956 109.079 210.176 112.604 208.17 116C206.86 118.23 205.44 120.39 203.95 122.5C210.044 127.623 216.989 131.637 224.47 134.36C225.762 131.542 227.197 128.791 228.77 126.12C230.521 123.166 232.434 120.312 234.5 117.57C226.601 115.328 219.384 111.156 213.5 105.43V105.45ZM331.77 107.78C329.049 113.719 325.696 119.349 321.77 124.57C332.87 127.757 342.528 134.682 349.108 144.173C355.687 153.663 358.785 165.136 357.876 176.649C356.966 188.162 352.106 199.006 344.118 207.346C336.129 215.687 325.504 221.01 314.041 222.414C302.579 223.818 290.983 221.218 281.217 215.053C271.452 208.888 264.117 199.538 260.455 188.585C256.793 177.633 257.03 165.751 261.123 154.953C265.217 144.154 272.917 135.102 282.92 129.33C293.437 123.257 302.171 114.522 308.243 104.003C314.314 93.4852 317.511 81.5539 317.51 69.4089C317.509 57.2639 314.312 45.333 308.239 34.8153C302.166 24.2976 293.432 15.5638 282.914 9.4915C272.396 3.41923 260.464 0.222499 248.319 0.222595C236.174 0.222691 224.243 3.4196 213.725 9.49203C203.207 15.5645 194.473 24.2985 188.4 34.8163C182.328 45.334 179.13 57.265 179.13 69.41C179.112 78.2036 176.788 86.8387 172.391 94.454C167.994 102.069 161.677 108.398 154.07 112.81C150.631 114.795 147.372 117.077 144.33 119.63C145.83 121.74 147.24 123.9 148.56 126.13C150.562 129.535 152.343 133.066 153.89 136.7C156.746 133.93 159.922 131.509 163.35 129.49L163.64 129.34C174.138 123.246 182.856 114.507 188.923 103.993C194.991 93.4793 198.196 81.5588 198.22 69.42C198.216 60.6311 200.524 51.9957 204.912 44.3806C209.3 36.7655 215.614 30.4384 223.22 26.0343C230.826 21.6302 239.456 19.3041 248.245 19.2892C257.034 19.2744 265.673 21.5714 273.293 25.9498C280.914 30.3282 287.249 36.6339 291.663 44.2342C296.077 51.8345 298.414 60.462 298.44 69.2509C298.466 78.0398 296.18 86.681 291.811 94.3072C287.442 101.933 281.145 108.277 273.55 112.7L273.34 112.81C259.7 120.672 249.149 132.951 243.429 147.618C237.709 162.286 237.16 178.465 241.875 193.486C246.59 208.507 256.286 221.471 269.362 230.239C282.438 239.006 298.113 243.053 313.799 241.711C329.485 240.368 344.245 233.717 355.641 222.856C367.038 211.994 374.39 197.571 376.484 181.967C378.578 166.364 375.289 150.512 367.16 137.03C359.031 123.548 346.547 113.241 331.77 107.81V107.78ZM103.97 112.78L103.75 112.67C97.6203 109.105 92.3174 104.279 88.1918 98.511C84.0663 92.7434 81.212 86.1658 79.8179 79.213C78.4238 72.2602 78.5215 65.0907 80.1046 58.1785C81.6877 51.2663 84.7202 44.7689 89.0014 39.1159C93.2827 33.463 98.7152 28.7832 104.94 25.3862C111.164 21.9892 118.039 19.9522 125.109 19.41C132.18 18.8678 139.285 19.8327 145.955 22.241C152.624 24.6492 158.707 28.4459 163.8 33.38C166.371 27.3886 169.576 21.6895 173.36 16.38C166.001 10.2597 157.451 5.73319 148.253 3.08675C139.054 0.440302 129.406 -0.268486 119.92 1.00522C110.433 2.27892 101.314 5.50741 93.1392 10.4865C84.9644 15.4655 77.9118 22.0868 72.4274 29.9315C66.943 37.7763 63.1462 46.6738 61.2771 56.0612C59.4081 65.4487 59.5074 75.1219 61.5688 84.4691C63.6303 93.8162 67.609 102.634 73.2533 110.364C78.8976 118.095 86.0847 124.57 94.36 129.38C101.977 133.781 108.301 140.109 112.698 147.728C117.095 155.347 119.41 163.988 119.41 172.785C119.41 181.582 117.095 190.223 112.698 197.842C108.301 205.461 101.977 211.789 94.36 216.19C88.214 219.739 81.3843 221.941 74.3231 222.652C67.2619 223.363 60.1302 222.566 53.4002 220.313C46.6702 218.061 40.4954 214.405 35.2846 209.587C30.0738 204.769 25.9459 198.899 23.174 192.365C20.4022 185.832 19.0498 178.785 19.2062 171.69C19.3626 164.594 21.0244 157.613 24.0814 151.209C27.1385 144.804 31.5212 139.122 36.9393 134.538C42.3573 129.954 48.6873 126.574 55.51 124.62C51.5836 119.399 48.231 113.769 45.51 107.83C36.5164 111.138 28.3081 116.278 21.4051 122.925C14.5021 129.571 9.05503 137.579 5.409 146.441C1.76297 155.303 -0.0024878 164.826 0.224492 174.405C0.451472 183.985 2.66594 193.414 6.72758 202.093C10.7892 210.772 16.6095 218.513 23.8195 224.825C31.0295 231.137 39.472 235.883 48.6122 238.761C57.7523 241.64 67.3907 242.588 76.9165 241.547C86.4424 240.505 95.648 237.496 103.95 232.71C114.465 226.634 123.197 217.898 129.267 207.379C135.337 196.86 138.533 184.93 138.533 172.785C138.533 160.64 135.337 148.71 129.267 138.191C123.197 127.672 114.465 118.936 103.95 112.86L103.97 112.78ZM248.29 96C253.556 95.996 258.703 94.4302 263.079 91.5005C267.455 88.5708 270.864 84.409 272.874 79.5416C274.884 74.6742 275.406 69.3199 274.372 64.156C273.339 58.9922 270.797 54.2509 267.068 50.5321C263.34 46.8132 258.592 44.2838 253.425 43.264C248.259 42.2441 242.906 42.7796 238.044 44.8026C233.182 46.8257 229.029 50.2454 226.111 54.6292C223.192 59.013 221.64 64.1638 221.65 69.43C221.669 76.4832 224.483 83.2413 229.477 88.2221C234.471 93.2029 241.237 96 248.29 96ZM281.29 172.7C281.29 177.965 282.851 183.112 285.776 187.489C288.701 191.867 292.859 195.279 297.723 197.294C302.587 199.308 307.94 199.836 313.103 198.809C318.267 197.781 323.01 195.246 326.733 191.523C330.456 187.8 332.991 183.057 334.018 177.893C335.046 172.73 334.518 167.377 332.504 162.513C330.489 157.649 327.077 153.491 322.699 150.566C318.322 147.641 313.175 146.08 307.91 146.08C300.851 146.096 294.086 148.912 289.101 153.91C284.116 158.909 281.317 165.681 281.32 172.74L281.29 172.7ZM188.65 199.35C193.915 199.35 199.062 197.789 203.44 194.863C207.818 191.938 211.23 187.779 213.245 182.915C215.259 178.05 215.786 172.697 214.758 167.533C213.73 162.369 211.193 157.626 207.47 153.903C203.746 150.181 199.002 147.646 193.837 146.62C188.673 145.594 183.32 146.123 178.456 148.139C173.592 150.156 169.435 153.569 166.511 157.948C163.588 162.327 162.028 167.475 162.03 172.74C162.041 179.796 164.849 186.56 169.839 191.548C174.829 196.536 181.594 199.342 188.65 199.35ZM69.36 199.35C74.6254 199.35 79.7725 197.789 84.1503 194.863C88.5282 191.938 91.9401 187.779 93.9546 182.915C95.9691 178.05 96.4957 172.697 95.4678 167.533C94.4398 162.369 91.9035 157.626 88.1796 153.903C84.4558 150.181 79.7116 147.646 74.5472 146.62C69.3827 145.594 64.03 146.123 59.166 148.139C54.302 150.156 50.1452 153.569 47.2214 157.948C44.2976 162.327 42.738 167.475 42.74 172.74C42.7506 179.796 45.5589 186.56 50.5491 191.548C55.5393 196.536 62.3041 199.342 69.36 199.35ZM102.36 69.43C102.36 74.6954 103.921 79.8425 106.847 84.2203C109.772 88.5982 113.931 92.0101 118.795 94.0246C123.66 96.0391 129.013 96.5657 134.177 95.5378C139.341 94.5098 144.084 91.9735 147.807 88.2496C151.529 84.5258 154.064 79.7816 155.09 74.6172C156.116 69.4527 155.587 64.1 153.571 59.236C151.554 54.372 148.141 50.2153 143.762 47.2914C139.383 44.3676 134.235 42.808 128.97 42.81C121.918 42.8259 115.161 45.6368 110.178 50.6268C105.196 55.6167 102.395 62.3785 102.39 69.43H102.36Z"
                    fill="white"
                />
            </svg>
            Open in Moku Compile</a
        >

        <a class="open-mcc-action with-icon" target="_blank" :href="githubUrl">
            <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill="currentColor"
                    d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.799 8.207 11.387.6.111.793-.261.793-.577v-2.165c-3.337.725-4.033-1.434-4.033-1.434-.546-1.388-1.334-1.758-1.334-1.758-1.09-.745.082-.729.082-.729 1.204.083 1.838 1.243 1.838 1.243 1.07 1.834 2.808 1.305 3.492.998.109-.774.419-1.305.762-1.605-2.665-.303-5.466-1.332-5.466-5.926 0-1.309.467-2.381 1.235-3.222-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.3 1.232a11.487 11.487 0 0 1 6 0c2.29-1.554 3.297-1.232 3.297-1.232.654 1.652.243 2.873.119 3.176.771.841 1.235 1.914 1.235 3.222 0 4.608-2.805 5.618-5.479 5.916.43.373.816 1.106.816 2.229v3.306c0 .32.192.694.8.576C20.563 21.799 24 17.3 24 12 24 5.37 18.63 0 12 0Z"
                />
            </svg>
            View on GitHub</a
        >
    </div>
</template>

<script>
export default {
    name: 'OpenInMokuCompile',
    props: {
        /** {@link https://compile.regret.liquidinstruments.com/examples/examples.json} */
        name: { type: String },
        model: { type: String, default: 'mokugo' },
        githubPath: { type: String },
    },
    computed: {
        importUrl() {
            return `https://compile.liquidinstruments.com/#/projects?action=import&hardware=${this.model}&example=${(this.mccName || this.name).replace(/\s/g, '+')}`
        },
        githubUrl() {
            return `https://github.com/liquidinstruments/moku-examples/tree/main/mc/${this.githubPath}`
        },
    },
}
</script>

<style lang="stylus">
.open-mcc-action {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    text-align: center;
    color: #fff;
    background-color: $accentColor;
    padding: 0.6rem 0.9rem;
    border-radius: 8px;
    transition: background-color 0.1s ease;
    box-sizing: border-box;
    border-bottom: 1px solid darken($accentColor, 10%);
    outline-offset: 1px;
    &:hover {
        background-color: lighten($accentColor, 10%);
        text-decoration: none;
    }

    svg { height: 1.25rem; }
}
</style>
